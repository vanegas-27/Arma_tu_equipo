{% extends "base.html" %}
{% block title %}{{ arquero.usuario.nombre }} - Perfil del Arquero{% endblock %}

{% block head %}
<style>
.profile-header {
    background: linear-gradient(135deg, #0f756e 0%, #14a085 100%);
    padding: 60px 0;
    text-align: center;
    color: white;
}
.profile-avatar {
    width: 120px;
    height: 120px;
    background: white;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto 24px;
    box-shadow: 0 8px 30px rgba(0,0,0,0.2);
}
.profile-avatar svg {
    width: 60px;
    height: 60px;
    color: #0f756e;
}
.profile-name {
    font-size: 2rem;
    font-weight: 700;
    margin: 0 0 8px;
}
.profile-location {
    font-size: 1rem;
    opacity: 0.9;
    margin: 0;
}
.profile-section {
    padding: 40px 0;
}
.stats-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 20px;
    margin-bottom: 40px;
}
.stat-card {
    background: white;
    border-radius: 16px;
    padding: 24px;
    text-align: center;
    box-shadow: 0 4px 20px rgba(0,0,0,0.08);
}
.stat-card-icon {
    width: 56px;
    height: 56px;
    background: #f0fdfa;
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto 16px;
}
.stat-card-icon svg {
    width: 28px;
    height: 28px;
    color: #0f756e;
}
.stat-card-value {
    font-size: 1.75rem;
    font-weight: 700;
    color: #1a1a2e;
    margin: 0 0 4px;
}
.stat-card-label {
    font-size: 0.875rem;
    color: #666;
    margin: 0;
}
.detail-card {
    background: white;
    border-radius: 16px;
    padding: 32px;
    box-shadow: 0 4px 20px rgba(0,0,0,0.08);
    margin-bottom: 24px;
}
.detail-card h3 {
    font-size: 1.25rem;
    color: #1a1a2e;
    margin: 0 0 20px;
    padding-bottom: 12px;
    border-bottom: 2px solid #0f756e;
    display: inline-block;
}
.detail-row {
    display: flex;
    justify-content: space-between;
    padding: 12px 0;
    border-bottom: 1px solid #eee;
}
.detail-row:last-child {
    border-bottom: none;
}
.detail-label {
    color: #666;
    font-weight: 500;
}
.detail-value {
    color: #1a1a2e;
    font-weight: 600;
}
.profile-actions {
    display: flex;
    gap: 16px;
    flex-wrap: wrap;
    margin-top: 32px;
}
</style>
{% endblock %}

{% block content %}
<div class="profile-header">
    <div class="container">
        <div class="profile-avatar">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
            </svg>
        </div>
        <h1 class="profile-name">{{ arquero.usuario.nombre }} {{ arquero.usuario.apellido }}</h1>
        {% if arquero.usuario.direccion %}
        <p class="profile-location">{{ arquero.usuario.direccion }}</p>
        {% endif %}
    </div>
</div>

<section class="profile-section">
    <div class="container">
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-card-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
                        <line x1="16" y1="2" x2="16" y2="6"/>
                        <line x1="8" y1="2" x2="8" y2="6"/>
                        <line x1="3" y1="10" x2="21" y2="10"/>
                    </svg>
                </div>
                <div class="stat-card-value">{{ arquero.años_tapando }} años</div>
                <div class="stat-card-label">Experiencia</div>
            </div>
            <div class="stat-card">
                <div class="stat-card-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="12" y1="1" x2="12" y2="23"/>
                        <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/>
                    </svg>
                </div>
                <div class="stat-card-value">${{ "{:,.0f}".format(arquero.precio_por_hora) }}</div>
                <div class="stat-card-label">Por hora</div>
            </div>
            <div class="stat-card">
                <div class="stat-card-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/>
                    </svg>
                </div>
                <div class="stat-card-value">{% if arquero.calificacion > 0 %}{{ "%.1f"|format(arquero.calificacion) }}{% else %}Sin calificacion{% endif %}</div>
                <div class="stat-card-label">Calificacion</div>
            </div>
            <div class="stat-card">
                <div class="stat-card-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
                        <circle cx="9" cy="7" r="4"/>
                        <path d="M23 21v-2a4 4 0 0 0-3-3.87"/>
                        <path d="M16 3.13a4 4 0 0 1 0 7.75"/>
                    </svg>
                </div>
                <div class="stat-card-value">{{ arquero.partidos|length }}</div>
                <div class="stat-card-label">Partidos jugados</div>
            </div>
        </div>

        <div class="detail-card">
            <h3>Informacion del Arquero</h3>
            <div class="detail-row">
                <span class="detail-label">Nombre completo</span>
                <span class="detail-value">{{ arquero.usuario.nombre }} {{ arquero.usuario.apellido }}</span>
            </div>
            <div class="detail-row">
                <span class="detail-label">Correo electronico</span>
                <span class="detail-value">{{ arquero.usuario.correo }}</span>
            </div>
            {% if arquero.usuario.telefono %}
            <div class="detail-row">
                <span class="detail-label">Telefono</span>
                <span class="detail-value">{{ arquero.usuario.telefono }}</span>
            </div>
            {% endif %}
            {% if arquero.usuario.direccion %}
            <div class="detail-row">
                <span class="detail-label">Ubicacion</span>
                <span class="detail-value">{{ arquero.usuario.direccion }}</span>
            </div>
            {% endif %}
            <div class="detail-row">
                <span class="detail-label">Años tapando</span>
                <span class="detail-value">{{ arquero.años_tapando }} años</span>
            </div>
            <div class="detail-row">
                <span class="detail-label">Valor por hora</span>
                <span class="detail-value">${{ "{:,.0f}".format(arquero.precio_por_hora) }} COP</span>
            </div>
            <div class="detail-row">
                <span class="detail-label">Calificacion</span>
                <span class="detail-value">{% if arquero.calificacion > 0 %}{{ "%.1f"|format(arquero.calificacion) }} / 5.0{% else %}Sin calificacion{% endif %}</span>
            </div>
        </div>

        <div class="profile-actions">
            {% if current_user.is_authenticated and current_user.rol == 'normal' %}
                <a href="{{ url_for('routes.agendar') }}" class="btn btn-primary btn-lg">Agendar partido</a>
            {% elif not current_user.is_authenticated %}
                <a href="{{ url_for('auth.login') }}" class="btn btn-primary btn-lg">Iniciar sesion para agendar</a>
            {% endif %}
            <a href="{{ url_for('routes.home') }}" class="btn btn-outline-primary btn-lg">Volver al inicio</a>
        </div>
    </div>
</section>
{% endblock %}
